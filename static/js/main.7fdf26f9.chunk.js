(this["webpackJsonptreasure-hunter"]=this["webpackJsonptreasure-hunter"]||[]).push([[0],{18:function(e,t,s){},26:function(e,t,s){"use strict";s.r(t);var r=s(0),n=s(7),u=s.n(n),i=(s(18),s(13)),c=s(3),a=function(){var e=Object(c.b)((function(e){return e.game.treasures})),t=Object(c.b)((function(e){return e.selectFields}));return{check:function(s){if(3===t.length){for(var r=0;r<3;r++)if(s===e[r])return window.store.dispatch({type:"ADD_UNCOVER_FIELD",field:{id:s,find:"T"}}),window.store.dispatch({type:"FIND_TREASURE"}),"T";for(var n=0;n<3;n++)if(e[n].substr(1)===s.substr(1)&&(e[n].substr(0,1)-s.substr(0,1)===1||e[n].substr(0,1)-s.substr(0,1)===-1))return window.store.dispatch({type:"ADD_UNCOVER_FIELD",field:{id:s,find:"3"}}),"3";for(var u=0;u<3;u++)if(e[u].substr(0,1)===s.substr(0,1)&&(e[u].substr(1)-s.substr(1)===1||e[u].substr(1)-s.substr(1)===-1))return window.store.dispatch({type:"ADD_UNCOVER_FIELD",field:{id:s,find:"3"}}),"3";for(var i=0;i<3;i++)if(e[i].substr(1)===s.substr(1)&&(e[i].substr(0,1)-s.substr(0,1)===2||e[i].substr(0,1)-s.substr(0,1)===-2))return window.store.dispatch({type:"ADD_UNCOVER_FIELD",field:{id:s,find:"2"}}),"2";for(var c=0;c<3;c++)if(e[c].substr(0,1)===s.substr(0,1)&&(e[c].substr(1)-s.substr(1)===2||e[c].substr(1)-s.substr(1)===-2))return window.store.dispatch({type:"ADD_UNCOVER_FIELD",field:{id:s,find:"2"}}),"2";for(var a=0;a<3;a++)if((e[a].substr(0,1)-s.substr(0,1)===1||e[a].substr(0,1)-s.substr(0,1)===-1)&&(e[a].substr(1)-s.substr(1)===1||e[a].substr(1)-s.substr(1)===-1))return window.store.dispatch({type:"ADD_UNCOVER_FIELD",field:{id:s,find:"2"}}),"2";for(var o=0;o<3;o++)if(e[o].substr(1)===s.substr(1)&&(e[o].substr(0,1)-s.substr(0,1)===3||e[o].substr(0,1)-s.substr(0,1)===-3))return window.store.dispatch({type:"ADD_UNCOVER_FIELD",field:{id:s,find:"1"}}),"1";for(var d=0;d<3;d++)if(e[d].substr(0,1)===s.substr(0,1)&&(e[d].substr(1)-s.substr(1)===3||e[d].substr(1)-s.substr(1)===-3))return window.store.dispatch({type:"ADD_UNCOVER_FIELD",field:{id:s,find:"1"}}),"1";for(var f=0;f<3;f++)if((e[f].substr(0,1)-s.substr(0,1)===2||e[f].substr(0,1)-s.substr(0,1)===-2)&&(e[f].substr(1)-s.substr(1)===2||e[f].substr(1)-s.substr(1)===-2))return window.store.dispatch({type:"ADD_UNCOVER_FIELD",field:{id:s,find:"1"}}),"1";return window.store.dispatch({type:"ADD_UNCOVER_FIELD",field:{id:s,find:"0"}}),"0"}}}},o=s(1),d=function(){var e,t=Object(r.useState)(1),s=Object(i.a)(t,2),n=s[0],u=s[1],d=Object(c.b)((function(e){return e.uncoveredFields})),f=Object(c.b)((function(e){return e.selectFields})),b=Object(c.b)((function(e){return e.game})),l=["1","2","3","4","5"],h=[],E=a();Object(r.useEffect)((function(){"END"===b.gameStatus&&setTimeout((function(){var t=document.querySelectorAll(".field");t.forEach((function(e){return e.classList.remove("treasure")})),t.forEach((function(e){return e.classList.remove("uncover")})),t.forEach((function(e){return e.innerHTML=""})),window.store.dispatch({type:"RESET_SELECT_FIELD"}),window.store.dispatch({type:"RESET_UNCOVER_FIELD"}),j(),O(),window.store.dispatch({type:"START",status:"START",name:e,treasures:h})}),1e4),null===b.gameStatus&&(j(),O(),window.store.dispatch({type:"START",status:"START",name:e,treasures:h}))}),[b.gameStatus]);var j=function(){if(0===(e=document.cookie.substr(5)).length||"null"===e){var t=prompt("Please enter your name");document.cookie="name="+t}return e},O=function(){do{var e=(Math.floor(5*Math.random())+1).toString()+(Math.floor(5*Math.random())+1);!1===h.includes(e)&&h.push(e)}while(h.length<3);return h};Object(r.useEffect)((function(){for(var e=0;e<d.length;e++){var t=document.getElementById(d[e].id);t.innerText=d[e].find,"T"===d[e].find?t.classList.add("treasure"):t.classList.add("uncover")}}),[d]),Object(r.useEffect)((function(){if(4===n){window.store.dispatch({type:"AFTERMOVE",status:"AFTERMOVE"});for(var e=0;e<f.length;e++)E.check(f[e]);u(1),window.store.dispatch({type:"RESET_SELECT_FIELD"})}}),[n]),Object(r.useEffect)((function(){3===b.findedTreasures&&(window.store.dispatch({type:"ADD_SCORE",score:{score:b.moves,name:b.player}}),window.store.dispatch({type:"END",status:"END"}))}),[b.findedTreasures]);return Object(o.jsx)("div",{className:"gameBoard",children:l.map((function(e,t){return Object(o.jsx)("div",{children:l.map((function(t,s){return Object(o.jsx)("div",{id:"".concat(e+t),className:f.length>0&&f.includes("".concat(e+t))?"".concat(e+t," field select"):"".concat(e+t," field"),onClick:function(){return s=e+t,void(!1===f.some((function(e){return e===s}))&&void 0!==d&&!1===d.some((function(e){return e.id===s}))&&(window.store.dispatch({type:"ADD_SELECT_FIELD",field:s}),u((function(e){return e+1}))));var s}},s)}))},t)}))})},f=function(){var e=Object(c.b)((function(e){return e.game})),t=Object(c.b)((function(e){return e.score})).sort((function(e,t){return e.score>t.score?1:t.score>e.score?-1:0}));return Object(o.jsxs)("div",{className:"info",children:["START"===e.gameStatus&&Object(o.jsx)("p",{children:"Choose three positions to find treasures!"}),"AFTERMOVE"===e.gameStatus&&Object(o.jsx)("p",{children:"Not bad! Try again to find all treasures!"}),"END"===e.gameStatus&&Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("p",{className:"specialInfo",children:"Woohoo! You found all treasures!"})}),"END"!==e.gameStatus?Object(o.jsx)("div",{children:Object(o.jsxs)("ul",{children:[Object(o.jsx)("li",{children:" T - Congrats! It's treasure! "}),Object(o.jsx)("li",{children:" 3 - It's reeeeeeally close! "}),Object(o.jsx)("li",{children:" 2 - You are close. Try again! "}),Object(o.jsx)("li",{children:" 1 - Look for treasure a little further."}),Object(o.jsx)("li",{children:" 0 - Oh! It's not even close.. "})]})}):Object(o.jsx)(o.Fragment,{children:t.map((function(e,t){return Object(o.jsxs)("li",{children:[e.score," - ",e.name]},t)}))})]})};var b=function(){return Object(o.jsxs)("div",{className:"app",children:[Object(o.jsx)("h1",{children:" Treasure hunter game"}),Object(o.jsx)(d,{}),Object(o.jsx)(f,{})]})},l=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,27)).then((function(t){var s=t.getCLS,r=t.getFID,n=t.getFCP,u=t.getLCP,i=t.getTTFB;s(e),r(e),n(e),u(e),i(e)}))},h=s(5),E=s(4),j=[],O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_SELECT_FIELD":return[].concat(Object(E.a)(e),[t.field]);case"RESET_SELECT_FIELD":return[];default:return e}},p=[],m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_UNCOVER_FIELD":return[].concat(Object(E.a)(e),[t.field]);case"RESET_UNCOVER_FIELD":return[];default:return e}},D=s(2),v={player:null,gameStatus:null,moves:0,treasures:[],findedTreasures:0},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"START":return Object(D.a)(Object(D.a)({},e),{},{gameStatus:t.status,player:t.name,treasures:t.treasures,findedTreasures:0,moves:0});case"AFTERMOVE":return Object(D.a)(Object(D.a)({},e),{},{gameStatus:t.status,moves:e.moves+1});case"FIND_TREASURE":return Object(D.a)(Object(D.a)({},e),{},{findedTreasures:e.findedTreasures+1});case"END":return Object(D.a)(Object(D.a)({},e),{},{gameStatus:t.status});case"NEXTGAME":return Object(D.a)(Object(D.a)({},e),{},{gameStatus:t.status,moves:1,findedTreasures:0});default:return e}},T=[],g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_SCORE":return[].concat(Object(E.a)(e),[t.score]);default:return e}},_=Object(h.combineReducers)({selectFields:O,game:w,uncoveredFields:m,score:g}),S=s(12),F=Object(h.createStore)(_,Object(S.composeWithDevTools)());window.store=F,u.a.render(Object(o.jsx)(c.a,{store:F,children:Object(o.jsx)(b,{})}),document.getElementById("root")),l()}},[[26,1,2]]]);
//# sourceMappingURL=main.7fdf26f9.chunk.js.map